<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[è®°ä¸€æ¬¡Signal 5å´©æºƒå®šä½ï¼ˆNotDoneï¼‰]]></title>
      <url>/2017/12/08/DebugSignal5Crash/</url>
      <content type="html"><![CDATA[<h1 id="å´©æºƒæ ˆ"><a href="#å´©æºƒæ ˆ" class="headerlink" title="å´©æºƒæ ˆ"></a>å´©æºƒæ ˆ</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">* 1  libdispatch.dylib   0x180506bb0   __dispatch_queue_resume + 624</span><br><span class="line">* 2  CoreFoundation      0x18160e22c   ___CFNOTIFICATIONCENTER_IS_CALLING_OUT_TO_AN_OBSERVER__ + 20</span><br><span class="line">* 3  CoreFoundation      0x18160e22c   ___CFNOTIFICATIONCENTER_IS_CALLING_OUT_TO_AN_OBSERVER__ + 20</span><br><span class="line">* 4  CoreFoundation      0x18160d930   __CFXRegistrationPost + 400</span><br><span class="line">* 5  CoreFoundation      0x18160d6ac   ____CFXNotificationPost_block_invoke + 60</span><br><span class="line">* 6  CoreFoundation      0x18167cb9c   -[_CFXNotificationRegistrar find:object:observer:enumerator:] + 1504</span><br><span class="line">* 7  CoreFoundation      0x18154fbf4   __CFXNotificationPost + 376</span><br><span class="line">* 8  Foundation          0x1820566bc   -[NSNotificationCenter postNotificationName:object:userInfo:] + 68</span><br><span class="line">* 9  UIKit               0x18771d9d8   -[UIApplication _sendWillEnterForegroundCallbacks] + 232</span><br><span class="line">* 10 UIKit               0x187758ebc   -[UIApplication _handleApplicationActivationWithScene:transitionContext:completion:] + 2140</span><br><span class="line">* 11 UIKit               0x1877583ec   -[UIApplication _handleApplicationLifecycleEventWithScene:transitionContext:completion:] + 452</span><br><span class="line">* 12 UIKit               0x187743ae8   ___70-[UIApplication scene:didUpdateWithDiff:transitionContext:completion:]_block_invoke + 152</span><br><span class="line">* 13 UIKit               0x18774376c   -[UIApplication scene:didUpdateWithDiff:transitionContext:completion:] + 888</span><br><span class="line">* 14 UIKit               0x187a75034   -[UIApplicationSceneClientAgent scene:handleEvent:withCompletion:] + 464</span><br><span class="line">* 15 FrontBoardServices  0x1831e7bd4   &lt;redacted&gt;</span><br><span class="line">* 16 FrontBoardServices  0x183215904   &lt;redacted&gt;</span><br><span class="line">* 17 FrontBoardServices  0x183215770   &lt;redacted&gt;</span><br><span class="line">* 18 FrontBoardServices  0x183215b18   &lt;redacted&gt;</span><br><span class="line">* 19 CoreFoundation      0x181622278   ___CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE0_PERFORM_FUNCTION__ + 24</span><br><span class="line">* 20 CoreFoundation      0x181621bc0   ___CFRunLoopDoSources0 + 524</span><br><span class="line">* 21 CoreFoundation      0x18161f7c0   ___CFRunLoopRun + 804</span><br><span class="line">* 22 CoreFoundation      0x18154e048   _CFRunLoopRunSpecific + 444</span><br><span class="line">* 23 GraphicsServices    0x182fd1198   _GSEventRunModal + 180</span><br><span class="line">* 24 UIKit               0x187527818   -[UIApplication _run] + 684</span><br><span class="line">* 25 UIKit               0x187522550   _UIApplicationMain + 208</span><br><span class="line">* 26 App                 0x1005d3268   _main (main.m:16)</span><br><span class="line">* 27 libdyld.dylib       0x1805305b8   _start + 4</span><br></pre></td></tr></table></figure>
<h1 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h1><p>å…ˆç¡®å®šä¸‹signal 5å´©æºƒçš„åŸå› æ˜¯å•¥ï¼Œsignal.hå®šä¹‰çš„signalå¦‚ä¸‹ï¼š </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">#define	SIGHUP	1	/* hangup */</span><br><span class="line">#define	SIGINT	2	/* interrupt */</span><br><span class="line">#define	SIGQUIT	3	/* quit */</span><br><span class="line">#define	SIGILL	4	/* illegal instruction (not reset when caught) */</span><br><span class="line">#define	SIGTRAP	5	/* trace trap (not reset when caught) */</span><br><span class="line">#define	SIGABRT	6	/* abort() */</span><br><span class="line">#if  (defined(_POSIX_C_SOURCE) &amp;&amp; !defined(_DARWIN_C_SOURCE))</span><br><span class="line">#define	SIGPOLL	7	/* pollable event ([XSR] generated, not supported) */</span><br><span class="line">#else	/* (!_POSIX_C_SOURCE || _DARWIN_C_SOURCE) */</span><br><span class="line">#define	SIGIOT	SIGABRT	/* compatibility */</span><br><span class="line">#define	SIGEMT	7	/* EMT instruction */</span><br><span class="line">#endif	/* (!_POSIX_C_SOURCE || _DARWIN_C_SOURCE) */</span><br><span class="line">#define	SIGFPE	8	/* floating point exception */</span><br><span class="line">#define	SIGKILL	9	/* kill (cannot be caught or ignored) */</span><br><span class="line">#define	SIGBUS	10	/* bus error */</span><br><span class="line">#define	SIGSEGV	11	/* segmentation violation */</span><br><span class="line">#define	SIGSYS	12	/* bad argument to system call */</span><br><span class="line">#define	SIGPIPE	13	/* write on a pipe with no one to read it */</span><br><span class="line">#define	SIGALRM	14	/* alarm clock */</span><br><span class="line">#define	SIGTERM	15	/* software termination signal from kill */</span><br><span class="line">#define	SIGURG	16	/* urgent condition on IO channel */</span><br><span class="line">#define	SIGSTOP	17	/* sendable stop signal not from tty */</span><br><span class="line">#define	SIGTSTP	18	/* stop signal from tty */</span><br><span class="line">#define	SIGCONT	19	/* continue a stopped process */</span><br><span class="line">#define	SIGCHLD	20	/* to parent on child stop or exit */</span><br><span class="line">#define	SIGTTIN	21	/* to readers pgrp upon background tty read */</span><br><span class="line">#define	SIGTTOU	22	/* like TTIN for output if (tp-&gt;t_local&amp;LTOSTOP) */</span><br><span class="line">#if  (!defined(_POSIX_C_SOURCE) || defined(_DARWIN_C_SOURCE))</span><br><span class="line">#define	SIGIO	23	/* input/output possible signal */</span><br><span class="line">#endif</span><br><span class="line">#define	SIGXCPU	24	/* exceeded CPU time limit */</span><br><span class="line">#define	SIGXFSZ	25	/* exceeded file size limit */</span><br><span class="line">#define	SIGVTALRM 26	/* virtual time alarm */</span><br><span class="line">#define	SIGPROF	27	/* profiling time alarm */</span><br><span class="line">#if  (!defined(_POSIX_C_SOURCE) || defined(_DARWIN_C_SOURCE))</span><br><span class="line">#define SIGWINCH 28	/* window size changes */</span><br><span class="line">#define SIGINFO	29	/* information request */</span><br><span class="line">#endif</span><br><span class="line">#define SIGUSR1 30	/* user defined signal 1 */</span><br><span class="line">#define SIGUSR2 31	/* user defined signal 2 */</span><br></pre></td></tr></table></figure>
<p><strong>SIGTRAP    5 -&gt; trace trap (not reset when caught)</strong><br><a href="https://developer.apple.com/library/content/technotes/tn2151/_index.html" target="_blank" rel="noopener">æ ¹æ®è‹¹æœçš„æ–‡æ¡£</a>ï¼š</p>
<blockquote>
<p>Similar to an Abnormal Exit, this exception is intended to give an attached debugger the chance to interrupt the process at a specific point in its execution. You can trigger this exception from your own code using the __builtin_trap() function. If no debugger is attached, the process is terminated and a crash report is generated.</p>
<p>Lower-level libraries (e.g, libdispatch) will trap the process upon encountering a fatal error. Additional information about the error can be found in the Additional Diagnostic Information section of the crash report, or in the deviceâ€™s console.</p>
</blockquote>
<p> è¿™ç§é”™è¯¯ä¹Ÿæ˜¯å±äºå¼‚å¸¸é”™è¯¯ï¼Œä¸è¿‡å¸¸ç”¨äºè¿æ¥è°ƒè¯•å™¨è¿›è¡Œè°ƒè¯•ã€‚æŸç³»åº•å±‚åº“åœ¨é‡åˆ°é‡åˆ°ä¸¥é‡é”™è¯¯æ—¶ä¹Ÿä¼šæŠ›å‡ºè¿™ä¸ªé”™è¯¯ï¼Œä¾‹å¦‚<strong>libdispatch</strong>ã€‚å›çœ‹è¿™ä¸ªå´©æºƒçš„è¿è¡Œæ ˆï¼Œä½äºæœ€é¡¶ç«¯çš„æ˜¯<strong>__dispatch_queue_resume</strong>ï¼Œä¹Ÿæ˜¯å±äº<strong>libdispatch</strong>è¿™ä¸ªåº“ï¼Œåº”è¯¥æ˜¯æŸä¸ªåœ°æ–¹ä½¿ç”¨GCDå‡ºé”™ã€‚</p>
<h1 id="åˆ†æå®šä½"><a href="#åˆ†æå®šä½" class="headerlink" title="åˆ†æå®šä½"></a>åˆ†æå®šä½</h1><p>å´©æºƒçš„æœ€åä¸€ä¸ªå‡½æ•°æ˜¯<strong>__dispatch_queue_resume</strong>ï¼Œå¯èƒ½å’Œ<strong>dispatch_resume</strong>å‡½æ•°æœ‰ä¸€å®šçš„å…³ç³»ï¼Œé¡¹ç›®ä¸­ä½¿ç”¨åœ°æ–¹çš„å°è±¡ä¸­åº”è¯¥ä¸å¤šã€‚å…¨å±€æœç´¢ä¸€æŠŠï¼Œæœ‰ä»¥ä¸‹ç»“æœï¼š<br><img src="/images/DebugSignal5Crash/searchResult.png" alt=""><br>enâ€¦â€¦.ç”¨çš„åœ°æ–¹è¿˜æ˜¯æŒºå¤šçš„ï¼Œé‚£åˆ°åº•æ˜¯å“ªä¸€ä¸ªå‡½æ•°å‘¢ï¼Ÿå›çœ‹å´©æºƒæ ˆï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* 7  CoreFoundation      0x18154fbf4   __CFXNotificationPost + 376</span><br><span class="line">* 8  Foundation          0x1820566bc   -[NSNotificationCenter postNotificationName:object:userInfo:] + 68</span><br><span class="line">* 9  UIKit               0x18771d9d8   -[UIApplication _sendWillEnterForegroundCallbacks] + 232</span><br><span class="line">* 10 UIKit               0x187758ebc   -[UIApplication _handleApplicationActivationWithScene:transitionContext:completion:] + 2140</span><br><span class="line">* 11 UIKit               0x1877583ec   -[UIApplication _handleApplicationLifecycleEventWithScene:transitionContext:completion:] + 452</span><br><span class="line">* 12 UIKit               0x187743ae8   ___70-[UIApplication scene:didUpdateWithDiff:transitionContext:completion:]_block_invoke + 152</span><br></pre></td></tr></table></figure>
<p>è¿™å‡ ä¸ªå‡½æ•°æŒ‡æ˜æ­¤æ—¶Appåˆšè¿›å…¥å‰å°ï¼Œæ­£åœ¨å¹¿æ’­ApplicationWillEnterForegroundé€šçŸ¥ï¼Œçœ‹åˆšæ‰çš„æœç´¢ç»“æœï¼Œå¯ä»¥ç¡®è®¤å‡ºé—®é¢˜çš„ä»£ç åº”è¯¥åœ¨<strong>[LEColorPicker appDidEnterForeground:]</strong>æ–¹æ³•ä¸Šã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">- (void)appDidEnterForeground:(NSNotification *)notification &#123;</span><br><span class="line">	dispatch_resume(taskQueue);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="dispatch-resume"><a href="#dispatch-resume" class="headerlink" title="dispatch_resume"></a>dispatch_resume</h2><p>çœ‹çœ‹æ­¤å‡½æ•°æ³¨é‡Šç¡®è®¤ä¸‹æ˜¯å‚æ•°å‡ºé”™è¿˜æ˜¯ç”¨æ³•å‡ºå‘ï¼Œæ³¨é‡Šå¦‚ä¸‹ï¼š<br><img src="/images/DebugSignal5Crash/dispatch_resume.png" alt=""><br>ç•™æ„åœˆæ³¨çš„åœ°æ–¹ï¼Œå¦‚æœdispatch_objectå·²ç»æ¿€æ´»å†æ¬¡è°ƒç”¨resumeæ­¤å‡½æ•°ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œç»“æŸè¿›ç¨‹ã€‚è‹¥ä¼ å…¥å‚æ•°ä¸ºnilï¼Œè¡Œä¸ºä¸å®šã€‚ç»“åˆä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">dispatch_resume(taskQueue);</span><br><span class="line"></span><br><span class="line">- (id)init &#123;</span><br><span class="line">    self = [super init];</span><br><span class="line">    if (self) &#123;</span><br><span class="line">        // Create queue and set working flag initial state</span><br><span class="line">        taskQueue = dispatch_queue_create(&quot;LEColorPickerQueue&quot;, DISPATCH_QUEUE_SERIAL);</span><br><span class="line">        dispatch_set_target_queue(taskQueue, dispatch_get_global_queue(DISPATCH_QUEUE_PRIORITY_LOW, 0));</span><br><span class="line">        _isActive = [UIApplication sharedApplication].applicationState == UIApplicationStateActive;</span><br><span class="line">        </span><br><span class="line">        // Add notifications for multitasking and background aware</span><br><span class="line">        [self addNotificationObservers];</span><br><span class="line">    &#125;</span><br><span class="line">    return self;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)addNotificationObservers &#123;</span><br><span class="line">    // Add observers for notification to respond at app state changes.</span><br><span class="line">    [[NSNotificationCenter defaultCenter] addObserver:self</span><br><span class="line">                                             selector:@selector(appDidEnterBackground:)</span><br><span class="line">                                                 name:UIApplicationDidEnterBackgroundNotification</span><br><span class="line">                                               object:nil];</span><br><span class="line">    </span><br><span class="line">    [[NSNotificationCenter defaultCenter] addObserver:self</span><br><span class="line">                                             selector:@selector(applicationWillResignActive:)</span><br><span class="line">                                                 name:UIApplicationWillResignActiveNotification</span><br><span class="line">                                               object:nil];</span><br><span class="line">    </span><br><span class="line">    [[NSNotificationCenter defaultCenter] addObserver:self selector:@selector(appDidEnterForeground:)</span><br><span class="line">                                                 name:UIApplicationWillEnterForegroundNotification</span><br><span class="line">                                               object:nil];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)appDidEnterForeground:(NSNotification *)notification &#123;</span><br><span class="line">	dispatch_resume(taskQueue);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>taskQueueæˆå‘˜å˜é‡åœ¨å®ä¾‹åˆå§‹åŒ–æ—¶å°±è¢«èµ‹å€¼ä¸”æ²¡æœ‰åœ°æ–¹ç½®å†è®¾ç½®ä¸ºnilã€‚éš¾é“æ˜¯<strong>appDidEnterForeground:</strong>å›è°ƒäº†ä¸¤æ¬¡ï¼Œå¯¼è‡´<strong>dispatch_resume(taskQueue);</strong>è¢«è°ƒç”¨äº†ä¸¤æ¬¡ï¼Ÿ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">* 2  CoreFoundation      0x18160e22c   ___CFNOTIFICATIONCENTER_IS_CALLING_OUT_TO_AN_OBSERVER__ + 20</span><br><span class="line">* 3  CoreFoundation      0x18160e22c   ___CFNOTIFICATIONCENTER_IS_CALLING_OUT_TO_AN_OBSERVER__ + 20</span><br></pre></td></tr></table></figure>
<p>å´©æºƒæ ˆçš„ä¸¤ä¸ªè¿ç»­å‡½æ•°è°ƒç”¨è¯æ˜äº†<strong>appDidEnterForeground:</strong>å›è°ƒäº†ä¸¤æ¬¡ã€‚</p>
<h2 id="çœŸç›¸ï¼Ÿï¼Ÿ"><a href="#çœŸç›¸ï¼Ÿï¼Ÿ" class="headerlink" title="çœŸç›¸ï¼Ÿï¼Ÿ"></a>çœŸç›¸ï¼Ÿï¼Ÿ</h2><p>å¦‚æœæ˜¯<strong>addNotificationObservers</strong>è¢«è°ƒç”¨äº†ä¸¤æ¬¡ï¼Œ<strong>applicationWillResignActive:</strong>å’Œ<strong>appDidEnterForeground:</strong>éƒ½ä¼šè¢«è°ƒç”¨ä¸¤æ¬¡ï¼Œ<strong>dispatch_suspend</strong>å’Œ<strong>dispatch_resume</strong>çš„è°ƒç”¨æ¬¡æ•°åº”è¯¥æ˜¯åŒ¹é…çš„ï¼Œä¸ä¼šå‡ºç°<strong>dispatch_resume</strong>æ¬¡æ•°å¤§äº<strong>dispatch_suspend</strong>çš„æƒ…å†µã€‚éš¾é“æ˜¯NSNotifictaionçš„Bugï¼Ÿ<br><img src="/images/DebugSignal5Crash/CoreFoundationSource.png" alt=""><br>æœç´¢äº†CoreFoundationçš„æºç ä¹Ÿæ²¡æœ‰å‘ç°__CFXRegistrationPostç›¸å…³çš„ç±»ã€‚<br>enâ€¦â€¦â€¦â€¦</p>
<h1 id="ä¸´æ—¶çš„è§£å†³æ–¹æ³•â€¦"><a href="#ä¸´æ—¶çš„è§£å†³æ–¹æ³•â€¦" class="headerlink" title="ä¸´æ—¶çš„è§£å†³æ–¹æ³•â€¦.."></a>ä¸´æ—¶çš„è§£å†³æ–¹æ³•â€¦..</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">- (void)applicationWillResignActive:(NSNotification *)notification &#123;</span><br><span class="line">    dispatch_suspend(taskQueue);</span><br><span class="line">    _taskQueueSuspended = YES;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)appDidEnterForeground:(NSNotification *)notification &#123;</span><br><span class="line">    if (_taskQueueSuspended) &#123;</span><br><span class="line">        dispatch_resume(taskQueue);</span><br><span class="line">        _taskQueueSuspended = NO;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ‰“ä¸ªæ ‡è®°ï¼Œä»…åœ¨æ ‡è®°å¼€å¯æ—¶æ‰è°ƒç”¨<strong>dispatch_resume</strong>ğŸ˜‚ã€‚</p>
]]></content>
      
        <categories>
            
            <category> è¸©å‘è®°å½• </category>
            
            <category> å´©æºƒå®šä½åŠé¢„é˜² </category>
            
        </categories>
        
        
        <tags>
            
            <tag> è¸©å‘è®°å½• </tag>
            
            <tag> å´©æºƒåˆ†æ </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[iOSå´©æºƒcrashæ”¶é›†åŠåˆ†æ]]></title>
      <url>/2017/12/06/iOSCrashAnalyze/</url>
      <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>å´©æºƒçš„å‡ºç°æ„å‘³ç€ä»£ç å‡ºç°äº†é—®é¢˜ï¼Œé€šå¸¸çš„è§£å†³è·¯å¾„æ˜¯æ ¹æ®æµ‹è¯•/ç”¨æˆ·/æ—¥å¿—æ–‡ä»¶çš„è¡Œä¸ºæè¿°ï¼Œè¯•å›¾é‡ç°å´©æºƒï¼Œå®šä½åˆ°å…·ä½“çš„ä»£ç ä½ç½®ï¼Œåˆ†æå‡ºç°çš„åŸå› ï¼Œæ‰¾åˆ°æ ¹æ²»çš„åŠæ³•ï¼Œæœ€åéªŒè¯è§£å†³æ–¹æ¡ˆä»¥ç¡®è®¤å´©æºƒè¢«ä¿®å¤ã€‚é‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•å»æœé›†ã€åˆ†æã€è§£å†³å´©æºƒå‘¢ï¼Œè¯·çœ‹ä¸‹æ–‡ã€‚</p>
<h1 id="å¦‚ä½•æ”¶é›†å´©æºƒä¿¡æ¯ï¼Ÿ"><a href="#å¦‚ä½•æ”¶é›†å´©æºƒä¿¡æ¯ï¼Ÿ" class="headerlink" title="å¦‚ä½•æ”¶é›†å´©æºƒä¿¡æ¯ï¼Ÿ"></a>å¦‚ä½•æ”¶é›†å´©æºƒä¿¡æ¯ï¼Ÿ</h1><h2 id="å®˜æ–¹æ¸ é“XCode-Organizer"><a href="#å®˜æ–¹æ¸ é“XCode-Organizer" class="headerlink" title="å®˜æ–¹æ¸ é“XCode Organizer"></a>å®˜æ–¹æ¸ é“XCode Organizer</h2><p>åœ¨Xcode-&gt;Window-&gt;Organizeré€‰æ‹©å·²ä¸Šæ¶çš„Appçœ‹ä»¥æŸ¥çœ‹åˆ°æ¯ä¸ªç‰ˆæœ¬ä¸­Appçš„å´©æºƒæƒ…å†µï¼Œå¦‚ä¸‹å›¾ï¼š<br><img src="/images/iOSCrashAnalyze/ItunesConnectShot.png" alt=""><br>ä¼˜ç‚¹ï¼š  </p>
<ol>
<li>è‡ªåŠ¨ç¬¦å·åŒ–å´©æºƒæ ˆï¼Œç”šè‡³å¯ä»¥ç›´æ¥æ‰“å¼€é¡¹ç›®ï¼Œè·³è½¬åˆ°ç›¸å…³æ–‡ä»¶ä»£ç </li>
</ol>
<p>ç¼ºç‚¹ï¼š  </p>
<ol>
<li>åªæœ‰å´©æºƒæ•°é‡åŠä¸åŒæœºå‹/ç³»ç»Ÿä¸‹çš„å æ¯”ï¼Œæ²¡æœ‰å´©æºƒç‡ã€‚</li>
<li>åªæœ‰å´©æºƒæ ˆä¿¡æ¯ï¼Œæ²¡æœ‰å½“æ—¶ç”¨æˆ·çš„æ“ä½œè®°å½•ï¼Œå¯¹äºåƒä¸Šå›¾ä¸­çš„å´©æºƒï¼Œä»…æœ‰å´©æºƒæ ˆä¿¡æ¯ï¼Œå¾ˆéš¾ä¸‹æ‰‹å¤„ç†ã€‚</li>
</ol>
<h2 id="ç¬¬ä¸‰æ–¹æœåŠ¡ï¼šå¬äº‘-Bugly-å‹ç›Ÿ"><a href="#ç¬¬ä¸‰æ–¹æœåŠ¡ï¼šå¬äº‘-Bugly-å‹ç›Ÿ" class="headerlink" title="ç¬¬ä¸‰æ–¹æœåŠ¡ï¼šå¬äº‘/Bugly/å‹ç›Ÿ"></a>ç¬¬ä¸‰æ–¹æœåŠ¡ï¼šå¬äº‘/Bugly/å‹ç›Ÿ</h2><h3 id="å¬äº‘"><a href="#å¬äº‘" class="headerlink" title="å¬äº‘"></a>å¬äº‘</h3><p>å¬äº‘æ”¶é›†çš„å´©æºƒä¿¡æ¯å¦‚ä¸‹ï¼š<br><img src="/images/iOSCrashAnalyze/tingyun1.png" alt=""><br><img src="/images/iOSCrashAnalyze/tingyun2.png" alt=""><br>å¬äº‘è®°å½•çš„ä¿¡æ¯æ¯”è¾ƒå…¨é¢ï¼ŒåŒ…å«å´©æºƒç‡ç»Ÿè®¡ã€å´©æºƒæ ˆã€å´©æºƒè½¨è¿¹ã€‚</p>
<h3 id="Bugly"><a href="#Bugly" class="headerlink" title="Bugly"></a>Bugly</h3><p>Buglyæ”¶é›†çš„ä¿¡æ¯å¦‚ä¸‹ï¼š<br><img src="/images/iOSCrashAnalyze/bugly1.png" alt=""><br><img src="/images/iOSCrashAnalyze/bugly2.png" alt=""><br>Buglyæ”¶é›†åˆ°çš„ä¿¡æ¯åŒ…å«å´©æºƒç‡ç»Ÿè®¡ã€å´©æºƒæ ˆï¼Œå¯ä»¥å…³è”å´©æºƒæ—¶çš„è®°å½•çš„æ—¥å¿—ã€‚åœ¨æ—¥å¿—ä¸­è®°å½•VCçš„æ‰“å¼€è®°å½•ï¼Œå®ç°ç±»ä¼¼äºå¬äº‘çš„å´©æºƒè½¨è¿¹è®°å½•ã€‚</p>
<h3 id="å‹ç›Ÿ"><a href="#å‹ç›Ÿ" class="headerlink" title="å‹ç›Ÿ"></a>å‹ç›Ÿ</h3><p>å‹ç›Ÿæ”¶é›†çš„ä¿¡æ¯å¦‚ä¸‹ï¼š<br><img src="/images/iOSCrashAnalyze/umeng.png" alt=""><br>å‹ç›Ÿæ”¶é›†åˆ°çš„ä¿¡æ¯åŒ…å«å´©æºƒç‡ç»Ÿè®¡ã€å´©æºƒæ ˆã€‚</p>
<h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><p>ä¼˜ç‚¹ï¼š  </p>
<ol>
<li>é™¤äº†å´©æºƒæ—¶çš„è¿è¡Œæ ˆå¤–ï¼Œè¿˜å¯ä»¥é™„å¸¦å½“æ—¶ç”¨æˆ·çš„ä½¿ç”¨è½¨è¿¹ï¼è¿™éå¸¸æœ‰åˆ©äºæˆ‘ä»¬é‡å»ºå½“æ—¶çš„å´©æºƒåœºæ™¯ï¼ï¼ˆå‹ç›Ÿé™¤å¤–ï¼‰</li>
</ol>
<p>ç¼ºç‚¹ï¼š  </p>
<ol>
<li>éœ€è¦è‡ªè¡Œä¸Šä¼ DSYMæ–‡ä»¶ã€‚</li>
<li>å¯¹Appæœ‰ä¸€å®šçš„å…¥ä¾µï¼Œå¯ä»¥æŠ“å–åˆ°Appè¡Œä¸ºä¿¡æ¯ã€‚</li>
</ol>
<h2 id="DIYè‡ªè¡Œæ„å»º"><a href="#DIYè‡ªè¡Œæ„å»º" class="headerlink" title="DIYè‡ªè¡Œæ„å»º"></a>DIYè‡ªè¡Œæ„å»º</h2><p>ä½¿ç”¨å¦‚<a href="https://github.com/kstenerud/KSCrash" target="_blank" rel="noopener">KSCrash</a>æˆ–å¹²è„†è‡ªå·±å†™ä¸€ä¸ªå´©æºƒç›‘æµ‹åº“ï¼Œå®ç°ç±»ä¼¼äºä¸Šè¿°ç¬¬ä¸‰æ–¹æœåŠ¡çš„åŠŸèƒ½ã€‚ä¼˜ç‚¹å½“ç„¶æ˜¯å¯ä»¥å®ç°ä»»æ„æƒ³è¦çš„åŠŸèƒ½ï¼Œä½†æ˜¯å¼€å‘æˆæœ¬æ¯”è¾ƒå¤§ã€‚</p>
<h1 id="å¦‚ä½•ç¬¦å·åŒ–å´©æºƒä¿¡æ¯ï¼Ÿ"><a href="#å¦‚ä½•ç¬¦å·åŒ–å´©æºƒä¿¡æ¯ï¼Ÿ" class="headerlink" title="å¦‚ä½•ç¬¦å·åŒ–å´©æºƒä¿¡æ¯ï¼Ÿ"></a>å¦‚ä½•ç¬¦å·åŒ–å´©æºƒä¿¡æ¯ï¼Ÿ</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">0   CoreFoundation                      0x0000000183491d1c &lt;redacted&gt; + 148</span><br><span class="line">1   libobjc.A.dylib                     0x00000001826e0528 objc_exception_throw + 56</span><br><span class="line">2   CoreFoundation                      0x0000000183491c4c &lt;redacted&gt; + 0</span><br><span class="line">3   YouAppsBinary                       0x100817c80 YouAppsBinary + 8486016</span><br><span class="line">4   libsystem_platform.dylib            0x00000001830b7b34 _sigtramp + 36</span><br><span class="line">5   MediaToolbox                        0x0000000187982300 FigPhotoJPEGShouldUseHardwareDecode + 76</span><br><span class="line">6   ImageIO                             0x00000001853e87ec &lt;redacted&gt; + 188</span><br><span class="line">7   ImageIO                             0x00000001853e9180 &lt;redacted&gt; + 312</span><br><span class="line">8   ImageIO                             0x00000001855447b0 &lt;redacted&gt; + 80</span><br><span class="line">9   ImageIO                             0x0000000185542d8c &lt;redacted&gt; + 108</span><br><span class="line">10  ImageIO                             0x00000001853cac88 &lt;redacted&gt; + 312</span><br><span class="line">11  ImageIO                             0x00000001853c8554 &lt;redacted&gt; + 428</span><br></pre></td></tr></table></figure>
<p>åœ¨æ²¡æœ‰ç¬¦å·åŒ–å´©æºƒä¿¡æ¯ä¹‹å‰ï¼Œæˆ‘ä»¬åªèƒ½çœ‹åˆ°åŒ…å«é•œåƒå+å‡½æ•°å†…å­˜åœ°å€çš„å´©æºƒæ ˆï¼Œæ²¡æ³•å¾—çŸ¥å…·ä½“çš„å´©æºƒå‡½æ•°åŠè¡Œå·ï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨DSYMæ–‡ä»¶å¯¹å´©æºƒä¿¡æ¯è¿›è¡Œç¬¦å·åŒ–ã€‚</p>
<h2 id="DSYMæ–‡ä»¶"><a href="#DSYMæ–‡ä»¶" class="headerlink" title="DSYMæ–‡ä»¶"></a>DSYMæ–‡ä»¶</h2><p>XCodeç¼–è¯‘é¡¹ç›®ä¹‹åï¼Œä¼šåœ¨yourApp.appåŒæ­¥ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªyourApp.app.dsymçš„bundleï¼Œé‡Œé¢åŒ…å«äº†16è¿›åˆ¶å‡½æ•°åœ°å€æ˜ å°„åˆ°æºæ–‡ä»¶å‡½æ•°è¡Œå·çš„ä¸­è½¬æ–‡ä»¶ã€‚æœ‰äº†è¿™ä¸ªæ–‡ä»¶ï¼Œå°±å¯ä»¥å°†å†…å­˜åœ°å€è½¬æ¢ä¸ºå´©æºƒå‘ç”Ÿæ—¶çš„æºæ–‡ä»¶åŠè¡Œå·ã€‚æ¯ä¸ªç‰ˆæœ¬çš„app/dsyméƒ½æœ‰å”¯ä¸€åŒ¹é…çš„UUIDï¼Œåªæœ‰å½“ä¸¤è€…UUIDå”¯ä¸€åŒ¹é…æ—¶ï¼Œ16è¿›åˆ¶ç¬¦å·åŒ–å‡ºæ¥çš„ä¿¡æ¯æ‰æ˜¯æ­£ç¡®çš„ã€‚app/dysmçš„UUIDå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹ã€‚</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dwarfdump --uuid /xx/xx.app</span><br><span class="line">dwarfdump --uuid /xx/xx.app.dsym</span><br></pre></td></tr></table></figure>
<h2 id="å¦‚ä½•ç¬¦å·åŒ–"><a href="#å¦‚ä½•ç¬¦å·åŒ–" class="headerlink" title="å¦‚ä½•ç¬¦å·åŒ–"></a>å¦‚ä½•ç¬¦å·åŒ–</h2><p>xcodeçš„organizerçš„å¯ä»¥è‡ªåŠ¨ç¬¦å·åŒ–å®ƒæ‰€åŠæ”¶é›†åˆ°çš„å´©æºƒä¿¡æ¯ã€‚å°†åŒ¹é…çš„dsymæ–‡ä»¶ä¸Šä¼ åˆ°å¬äº‘/Buglyï¼Œä¹Ÿå¯ä»¥å¾—åˆ°ç¬¦å·åŒ–çš„å´©æºƒä¿¡æ¯ã€‚è‹¥æƒ³è‡ªå·±æŸ¥çœ‹ä¹Ÿå¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xcrun atos -arch arm64 -o /xxxx/xxx.app.dsym å‡½æ•°åœ°å€</span><br></pre></td></tr></table></figure>
<h1 id="å¦‚ä½•åˆ†æå´©æºƒä¿¡æ¯ï¼Ÿ"><a href="#å¦‚ä½•åˆ†æå´©æºƒä¿¡æ¯ï¼Ÿ" class="headerlink" title="å¦‚ä½•åˆ†æå´©æºƒä¿¡æ¯ï¼Ÿ"></a>å¦‚ä½•åˆ†æå´©æºƒä¿¡æ¯ï¼Ÿ</h1><p>è¿™é‡Œæœ‰ä¸€ç¯‡ä¸é”™çš„<a href="http://www.cocoachina.com/industry/20130725/6677.html" target="_blank" rel="noopener">å´©æºƒåˆ†ææ–‡ç« </a>ï¼Œå¯ä»¥è¯¦ç»†å‚è€ƒä¸‹ã€‚</p>
<h1 id="å¸¸è§çš„å´©æºƒåŸå› åŠè§£å†³æ–¹æ¡ˆ"><a href="#å¸¸è§çš„å´©æºƒåŸå› åŠè§£å†³æ–¹æ¡ˆ" class="headerlink" title="å¸¸è§çš„å´©æºƒåŸå› åŠè§£å†³æ–¹æ¡ˆ"></a>å¸¸è§çš„å´©æºƒåŸå› åŠè§£å†³æ–¹æ¡ˆ</h1><h2 id="é›†åˆç±»æ’å…¥nil-è¶Šç•Œè®¿é—®"><a href="#é›†åˆç±»æ’å…¥nil-è¶Šç•Œè®¿é—®" class="headerlink" title="é›†åˆç±»æ’å…¥nil/è¶Šç•Œè®¿é—®"></a>é›†åˆç±»æ’å…¥nil/è¶Šç•Œè®¿é—®</h2><p>è¿™äº›ç±»å‹å´©æºƒå´©æºƒæ ˆéƒ½æœ‰å¾ˆæ˜æ˜¾çš„ç‰¹å¾ï¼Œæ ˆé¡¶é™„è¿‘é€šå¸¸å¸¦æœ‰<strong><em>_objc_exception_throw</em></strong>è°ƒç”¨ï¼Œä¸ºAppæ²¡æœ‰å¤„ç†ç›¸å…³å¼‚å¸¸ï¼ŒAppæœ€ç»ˆå´©æºƒã€‚åƒå¬äº‘/Buglyç­‰ç¬¬ä¸‰å‘æœåŠ¡ï¼Œä¼šå°†å¼‚å¸¸ä¿¡æ¯æ‰“å°å‡ºæ¥ï¼Œæ–¹ä¾¿å®šä½ã€‚å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1ã€[NSPlaceholderString initWithFormat:locale:arguments:]: nil argument     </span><br><span class="line">2ã€setObjectForKey: object cannot be nil</span><br></pre></td></tr></table></figure>
<p><strong>è§£å†³åŠæ³•</strong>ï¼š  </p>
<ol>
<li>è¿½è¸ªå¼‚å¸¸æ•°æ®çš„æ¥æºï¼Œä»æºå¤´ä¸Šå µä½å¼‚å¸¸æ•°æ®ã€‚é¿å…ä¸€å¤„åŠ äº†ä¿æŠ¤ï¼Œå¯¼è‡´è„æ•°æ®æµå‘åˆ«çš„æµç¨‹ï¼Œå‡ºå‘å…¶ä»–å¼‚å¸¸ã€‚  </li>
<li>ç»™æ‰€æœ‰é›†åˆç±»åŠ ä¸Šnil/è¶Šç•Œè®¿é—®ä¿æŠ¤ï¼Œä¾‹å¦‚å®šä¹‰ä¸€äº›<a href="https://github.com/shaojiankui/JKCategories" target="_blank" rel="noopener">Category</a>æˆ–<a href="https://neyoufan.github.io/2017/01/13/ios/BayMax_HTSafetyGuard/" target="_blank" rel="noopener">æ›¿æ¢ä¸€äº›ä¸å®‰å…¨çš„æ–¹æ³•</a>ã€‚ä½†è¦åŠ ä¸Šåˆé€‚çš„æ–­è¨€/ä¸ŠæŠ¥æœºåˆ¶ï¼Œå°½å¿«å‘ç°å’Œå¤„ç†è¿™ç§å¼‚å¸¸æƒ…å†µã€‚</li>
</ol>
<h2 id="unrecognized-selector"><a href="#unrecognized-selector" class="headerlink" title="unrecognized selector"></a>unrecognized selector</h2><p><strong>å‡ºç°è¿™ç§å´©æºƒçš„åŸå› é€šå¸¸ä¸ºï¼š</strong>  </p>
<ol>
<li>è°ƒç”¨äº†é«˜ç‰ˆæœ¬ç³»ç»ŸAPI  </li>
<li>ä¸šåŠ¡å¤„ç†é€»è¾‘æœªè€ƒè™‘åˆ°æŸäº›å¼‚å¸¸æƒ…å†µï¼Œå¼ºè½¬ç±»å‹å‡ºé”™ã€‚è¿™ç§é—®é¢˜å¾ˆå®¹æ˜“å‡ºç°åœ¨å«å¤æ‚çŠ¶æ€ç®¡ç†çš„ä¸šåŠ¡é‡Œ</li>
</ol>
<p><strong>è§£å†³åŠæ³•</strong>ï¼š  </p>
<ol>
<li>å¯¹äºç¬¬ä¸€ç§æƒ…å†µï¼Œåœ¨ä½¿ç”¨ä¸ç†Ÿæ‚‰çš„APIæ—¶ï¼Œè¦ç•™æ„ä¸€ä¸‹å¯ç”¨çš„ç³»ç»Ÿç‰ˆæœ¬ã€‚æ­¤å¤–åœ¨ä½¿ç”¨é«˜ç³»ç»Ÿç‰ˆæœ¬çš„APIæ—¶ï¼ŒXCode 9ä¼šå‡ºç°è­¦å‘Šï¼Œå¤šç•™æ„ä¸€ä¸‹å³å¯ã€‚   </li>
<li>å–å†³äºç»†ä¸ç»†å¿ƒå•°ã€‚   </li>
<li>æˆ–è€…<a href="http://dev.qq.com/topic/5901b0e2f997cdab7e29cf4c" target="_blank" rel="noopener">åˆ©ç”¨objcçš„æ¶ˆæ¯è½¬å‘æœºåˆ¶ï¼ŒåŠ¨æ€æ·»åŠ æœªçŸ¥çš„selectorçš„å®ç°</a>ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•æœ‰ç¼ºé™·ï¼Œåœ¨æœªçŸ¥selectorçš„è½¬å‘æµç¨‹ä¸­ï¼Œæˆ‘ä»¬æ‹¿åˆ°çš„åªæœ‰selectorï¼Œæ²¡æœ‰æ–¹æ³•å®ç°ï¼Œ<strong>å› æ­¤æˆ‘ä»¬ä¸çŸ¥é“æ­¤selctorçš„è¿”å›å€¼ç±»å‹æ˜¯ä»€ä¹ˆ</strong>ã€‚å‡è®¾æˆ‘ä»¬é»˜è®¤è¿”å›nilï¼Œè‹¥æ­¤selectoråŸæœ¬è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œåˆ™æœ‰å¯èƒ½ä¸å´©æºƒã€‚è‹¥æ­¤selectoråŸæœ¬è¿”å›çš„æ˜¯block/ç»“æ„ä½“ï¼Œå°±ä¼šå¯¼è‡´åˆ«çš„å´©æºƒã€‚</li>
</ol>
<h2 id="Application-received-signal-11-SIGSEGV"><a href="#Application-received-signal-11-SIGSEGV" class="headerlink" title="Application received signal 11/SIGSEGV"></a>Application received signal 11/SIGSEGV</h2><p>å‡ºç°äº†éæ³•å†…å­˜è®¿é—®ï¼Œä¾‹å¦‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Application received signal 11</span><br><span class="line"></span><br><span class="line">	1. libobjc.A.dylib 0x1800b9b88 _objc_msgSend + 8</span><br><span class="line">	2. CoreFoundation  0x180a3f1b8 ___rehashd + 152</span><br><span class="line">	3. CoreFoundation  0x180928468 -[__NSDictionaryM setObject:forKey:] + 688</span><br><span class="line">	4. app.            0x10027ba04 [BaseDataModel initialize] (BaseDataModel.m:31)</span><br></pre></td></tr></table></figure>
<p><strong>å‡ºç°è¿™ç§å´©æºƒçš„åŸå› é€šå¸¸ä¸ºï¼š</strong>  </p>
<ol>
<li>ä½¿ç”¨äº†assignä½œä¸ºä¿®é¥°ç¬¦ï¼Œåœ¨å¯¹è±¡é‡Šæ”¾ä¹‹åï¼Œä»ç„¶è¿›è¡Œè®¿é—®ã€‚  </li>
<li>ä¸åŒçº¿ç¨‹åŒæ—¶æ“ä½œå¯å˜é›†åˆç±»/èµ‹å€¼åŒä¸€ä¸ªæˆå‘˜å˜é‡ã€‚</li>
</ol>
<p><strong>è§£å†³åŠæ³•</strong>ï¼š  </p>
<ol>
<li>åœ¨åˆé€‚çš„æ—¶å€™ç½®ä¸ºnilæˆ–æ”¹ä¸ºç”¨weakä¿®é¥°ã€‚<strong>æŸäº›ç³»ç»ŸAPIï¼Œå¦‚CBCentralManagerçš„delegateå±æ€§åœ¨iOS 11ä¸Šå£°æ˜ä¸ºweakï¼Œç„¶è€Œåœ¨æ—§ç‰ˆæœ¬ä¸Šç¼ºå£°æ˜ä¸ºassignï¼Œæ‰€ä»¥é‡åˆ°ç³»ç»Ÿç»™çš„delegateï¼Œåœ¨deallocæ—¶ï¼Œæœ€å¥½è®¾ç½®ä¸ºnilã€‚</strong><br><img src="/images/iOSCrashAnalyze/weakassign.png" alt=""></li>
<li>æ¶‰åŠçº¿ç¨‹ç®¡ç†ï¼Œåç»­å†åšè®¨è®ºã€‚</li>
</ol>
<h1 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h1><ul>
<li><a href="http://www.qidiandasheng.com/2016/04/10/crash-xuebeng/" target="_blank" rel="noopener">iOSå´©æºƒcrashå¤§è§£æ</a>  </li>
<li><a href="http://dev.qq.com/topic/59141e56ca95d00d727ba750" target="_blank" rel="noopener">å¦‚ä½•å®šä½Obj-Cé‡æŒ‡é’ˆéšæœºCrashç³»åˆ—</a>   </li>
<li><a href="http://dev.qq.com/topic/5901ae25520bfb7e51ff52c2" target="_blank" rel="noopener">å°èè‰è¯´Crashç³»åˆ—</a></li>
</ul>
]]></content>
      
        <categories>
            
            <category> å´©æºƒå®šä½åŠé¢„é˜² </category>
            
        </categories>
        
        
        <tags>
            
            <tag> å´©æºƒåˆ†æ </tag>
            
            <tag> å´©æºƒå®šä½ </tag>
            
        </tags>
        
    </entry>
    
  
  
</search>
